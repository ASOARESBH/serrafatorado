================================================================================
   CORRE√á√ÉO URGENTE - CADASTRO DE DISPOSITIVOS
================================================================================

üì¶ CONTE√öDO DO PACOTE
--------------------------------------------------------------------------------
‚úÖ dispositivos_console.html             - Tela corrigida (17 KB)
‚úÖ api_dispositivos_console.php          - API corrigida (15 KB)
‚úÖ inserir_dispositivo_manual.sql        - Script SQL manual (6.6 KB) [NOVO]

Total: 3 arquivos | ~39 KB

================================================================================
üêõ PROBLEMAS CORRIGIDOS
================================================================================

PROBLEMA 1: Bot√£o "Gerar Token" n√£o funcionava
--------------------------------------------------------------------------------
Causa: JavaScript tentava acessar data.token em vez de data.dados.token
Corre√ß√£o: Alterado para data.dados.token (linha 241)

PROBLEMA 2: Cadastro n√£o gravava no banco
--------------------------------------------------------------------------------
Causa: API tentava inserir em colunas inexistentes (localizacao, responsavel, observacao)
Corre√ß√£o: INSERT corrigido com colunas corretas (nome, token, tipo, ativo)

PROBLEMA 3: Erro SQL ao cadastrar
--------------------------------------------------------------------------------
Causa: Colunas inexistentes no INSERT
Corre√ß√£o: Removidas colunas inexistentes, adicionada coluna ativo

PROBLEMA 4: Layout corrompido
--------------------------------------------------------------------------------
Causa: CSS externo (style.css) causando sobreposi√ß√£o
Solu√ß√£o Tempor√°ria: Use o script SQL manual para cadastrar dispositivos
Solu√ß√£o Definitiva: Aguardar corre√ß√£o do CSS (pr√≥xima vers√£o)

================================================================================
üöÄ INSTALA√á√ÉO R√ÅPIDA
================================================================================

PASSO 1: BACKUP (OBRIGAT√ìRIO)
--------------------------------------------------------------------------------
Via cPanel ‚Üí Gerenciador de Arquivos:
1. Baixar dispositivos_console.html (backup)
2. Baixar api_dispositivos_console.php (backup)

PASSO 2: UPLOAD DOS ARQUIVOS
--------------------------------------------------------------------------------
Via cPanel ‚Üí Gerenciador de Arquivos:
1. Fazer upload de dispositivos_console.html (SUBSTITUIR)
2. Fazer upload de api_dispositivos_console.php (SUBSTITUIR)
3. Permiss√µes: 644

PASSO 3: TESTAR CADASTRO
--------------------------------------------------------------------------------
1. Acessar dispositivos_console.html
2. Clicar em "Gerar Token"
3. Verificar se token aparece (12 caracteres)
4. Preencher nome e tipo
5. Clicar em "Cadastrar Dispositivo"
6. Verificar se grava no banco

================================================================================
üìù ALTERNATIVA: CADASTRO MANUAL VIA SQL
================================================================================

Se o formul√°rio web ainda n√£o funcionar, use o script SQL manual.

PASSO 1: ABRIR PHPMYADMIN
--------------------------------------------------------------------------------
1. Acessar cPanel
2. Clicar em phpMyAdmin
3. Selecionar banco: inlaud99_erpserra
4. Clicar na aba "SQL"

PASSO 2: COPIAR EXEMPLO DO SCRIPT
--------------------------------------------------------------------------------
Abrir arquivo: inserir_dispositivo_manual.sql

Copiar um dos exemplos:

-- EXEMPLO 1: Tablet Portaria Principal
INSERT INTO dispositivos_console (
    nome_dispositivo,
    token_acesso,
    tipo_dispositivo,
    ativo,
    data_cadastro
) VALUES (
    'Tablet Portaria Principal',
    'A9F3K7L2Q8M4',
    'Tablet',
    1,
    NOW()
);

PASSO 3: ALTERAR DADOS
--------------------------------------------------------------------------------
1. Alterar nome_dispositivo: 'Tablet Portaria Principal'
2. Alterar token_acesso: 'A9F3K7L2Q8M4' (12 caracteres √∫nicos)
3. Alterar tipo_dispositivo: 'Tablet', 'C√¢mera', 'Totem', 'Outro'
4. Alterar ativo: 1 (Ativo) ou 0 (Inativo)

‚ö†Ô∏è IMPORTANTE: Token deve ser √öNICO (n√£o pode repetir)

PASSO 4: EXECUTAR SQL
--------------------------------------------------------------------------------
1. Colar o INSERT no phpMyAdmin
2. Clicar em "Executar"
3. Verificar mensagem de sucesso
4. Anotar o token para configurar o tablet

PASSO 5: VERIFICAR CADASTRO
--------------------------------------------------------------------------------
Executar query de verifica√ß√£o:

SELECT 
    id,
    nome_dispositivo,
    token_acesso,
    tipo_dispositivo,
    ativo,
    data_cadastro
FROM dispositivos_console
ORDER BY data_cadastro DESC;

‚úÖ Deve exibir o dispositivo cadastrado

PASSO 6: CONFIGURAR TABLET
--------------------------------------------------------------------------------
1. Acessar console_acesso.html no tablet
2. Digitar token (12 caracteres)
3. Clicar em "Autenticar"
4. Verificar se libera acesso

================================================================================
üîß COMO GERAR TOKEN DE 12 CARACTERES
================================================================================

REGRAS:
--------------------------------------------------------------------------------
‚úÖ Usar apenas letras mai√∫sculas (A-Z) e n√∫meros (0-9)
‚úÖ Exatamente 12 caracteres
‚úÖ Evitar caracteres confusos: I, O, 0, 1
‚úÖ Token deve ser √öNICO (n√£o pode repetir)

EXEMPLOS DE TOKENS V√ÅLIDOS:
--------------------------------------------------------------------------------
A9F3K7L2Q8M4
B3H8N5P9R2K7
C7M2Q4W8X5Y9
D9K3L7N2P5T8
E2J6M9S4V7Z3
F8K3N7Q2T5W9
G4L8P2R6U9X3
H7M3Q8S2V6Y9

VERIFICAR SE TOKEN J√Å EXISTE:
--------------------------------------------------------------------------------
Antes de usar, execute no phpMyAdmin:

SELECT * FROM dispositivos_console WHERE token_acesso = 'A9F3K7L2Q8M4';

Se retornar algum resultado, o token j√° est√° em uso. Gere outro.

================================================================================
üìã QUERIES √öTEIS
================================================================================

LISTAR TODOS OS DISPOSITIVOS:
--------------------------------------------------------------------------------
SELECT 
    id,
    nome_dispositivo,
    token_acesso,
    tipo_dispositivo,
    ativo,
    data_cadastro,
    data_ultimo_acesso,
    total_acessos
FROM dispositivos_console
ORDER BY data_cadastro DESC;

ATIVAR DISPOSITIVO:
--------------------------------------------------------------------------------
UPDATE dispositivos_console SET ativo = 1 WHERE id = 1;

DESATIVAR DISPOSITIVO:
--------------------------------------------------------------------------------
UPDATE dispositivos_console SET ativo = 0 WHERE id = 1;

ALTERAR TOKEN:
--------------------------------------------------------------------------------
UPDATE dispositivos_console 
SET token_acesso = 'NOVO_TOKEN_12' 
WHERE id = 1;

EXCLUIR DISPOSITIVO:
--------------------------------------------------------------------------------
‚ö†Ô∏è CUIDADO: Esta a√ß√£o √© irrevers√≠vel!

DELETE FROM dispositivos_console WHERE id = 1;

================================================================================
‚úÖ CHECKLIST DE VERIFICA√á√ÉO
================================================================================

AP√ìS INSTALA√á√ÉO:
--------------------------------------------------------------------------------
[ ] Arquivos atualizados no servidor
[ ] Permiss√µes corretas (644)
[ ] Bot√£o "Gerar Token" funciona
[ ] Token tem 12 caracteres
[ ] Cadastro grava no banco
[ ] Lista exibe dispositivos

AP√ìS CADASTRO MANUAL:
--------------------------------------------------------------------------------
[ ] SQL executado com sucesso
[ ] Dispositivo aparece na lista
[ ] Token anotado
[ ] Tablet configurado
[ ] Autentica√ß√£o funciona

================================================================================
üêõ RESOLU√á√ÉO DE PROBLEMAS
================================================================================

PROBLEMA: Bot√£o "Gerar Token" ainda n√£o funciona
--------------------------------------------------------------------------------
Solu√ß√£o: Use o cadastro manual via SQL

PROBLEMA: Cadastro n√£o grava no banco
--------------------------------------------------------------------------------
Solu√ß√£o: Use o cadastro manual via SQL

PROBLEMA: Erro "Token j√° est√° em uso"
--------------------------------------------------------------------------------
Solu√ß√£o: Gere outro token (12 caracteres diferentes)

PROBLEMA: Erro "Token deve ter exatamente 12 caracteres"
--------------------------------------------------------------------------------
Solu√ß√£o: Verifique se o token tem exatamente 12 caracteres

PROBLEMA: Layout corrompido (logo sobrep√µe formul√°rio)
--------------------------------------------------------------------------------
Solu√ß√£o Tempor√°ria: Use o cadastro manual via SQL
Solu√ß√£o Definitiva: Aguardar corre√ß√£o do CSS (pr√≥xima vers√£o)

PROBLEMA: "Token inv√°lido ou dispositivo inativo"
--------------------------------------------------------------------------------
Solu√ß√£o:
1. Verificar se dispositivo est√° cadastrado
2. Verificar se dispositivo est√° ativo (ativo = 1)
3. Verificar se token est√° correto (12 caracteres)

================================================================================
üìû SUPORTE
================================================================================

Em caso de d√∫vidas ou problemas:

üìß Email: suporte@serraliberdade.com.br
üì± WhatsApp: (31) 99999-9999
üåê Site: https://help.manus.im

================================================================================
üìÑ INFORMA√á√ïES ADICIONAIS
================================================================================

Vers√£o: 2.0.1 (Corre√ß√£o Urgente)
Data: 26/12/2024
Autor: Manus AI

¬© 2024 Todos os direitos reservados

================================================================================

‚ö†Ô∏è RECOMENDA√á√ÉO:
Use o cadastro manual via SQL at√© que o layout seja corrigido na pr√≥xima vers√£o.
O script SQL √© mais confi√°vel e n√£o depende do formul√°rio web.

‚úÖ VANTAGENS DO CADASTRO MANUAL:
- N√£o depende do formul√°rio web
- N√£o depende do CSS
- Mais r√°pido
- Mais confi√°vel
- Pode cadastrar m√∫ltiplos dispositivos de uma vez

üéâ RESULTADO:
Dispositivos cadastrados e funcionando corretamente!

================================================================================
